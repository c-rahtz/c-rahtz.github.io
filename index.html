<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Craig Rahtz</title>
	<link rel="stylesheet" type="text/css" href="css/combined.css">
	<link rel="icon" type="image/x-icon" href="cr-bw-001.ico">
</head>

<body onload="cr.ready();">
	<div class="inner-space">

		<div class="page-head">
			<!-- <h1>Craig Rahtz</h1> -->
			<img id="image-container" src="img/dots-still.gif">
			<div id="play-gif-button" class="arrow-right" data-gif="dots-sweep.gif"></div>
		</div>
	</div>
	<script type="text/javascript" src="js/preloadjs-NEXT.combined.js"></script>
	<script type="text/javascript">
		// keeping on-page script to reduce network calls - or just to keep things simple, heh

		//creating a global object to hold my methods and properties
		var cr = {
			loadImage: function(img) {
				var swapImg;
				swapImg = document.getElementById("image-container");
				// console.log(img);
				swapImg.src = "img/" + img;
				cr.playBtn.style.display = "none";
			},
			playClick: function(e) {
				var btn, imageToLoad;
				btn = e.currentTarget;
				imageToLoad = btn.getAttribute("data-gif");
				
				//console.log(imageToLoad);
				//console.log("Play click.");
				
				// cannot use 'this' below; must use explicit object because 'this'
				// is different inside the event listener
				// check this ish out sometime - http://www.w3.org/TR/DOM-Level-3-Events/#event-flow
				//console.log(this); 
				cr.loadImage(imageToLoad);
			},
			addlisteners: function(){
				//console.log("Adding listeners.");
				// playBtn is created in ready() and is then available in the cr object
				cr.playBtn.addEventListener("click", this.playClick);
			},
			ready: function() {
				console.log("We are young.");
				// declaring these variables here creates them in the local object space
				this.playBtn = document.getElementById("play-gif-button");
				this.playBtn.style.display = "block";
				this.addlisteners();
			},

		}

	</script>

</body>

</html>